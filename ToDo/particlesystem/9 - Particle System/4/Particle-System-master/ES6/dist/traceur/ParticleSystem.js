!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Traceur=e():t.Traceur=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(10)},function(t,e,r){(function(t,e){!function(t){"use strict";function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function r(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++D+"$__"}function n(){var t=r();return W[t]=!0,t}function i(t){return"object"==typeof t&&t instanceof c}function o(t){return i(t)?"symbol":typeof t}function u(t){var e=new c(t);if(!(this instanceof u))return e;throw new TypeError("Symbol cannot be new'ed")}function c(t){var e=r();$(this,L,{value:this}),$(this,U,{value:e}),$(this,B,{value:t}),s(this),V[e]=this}function a(t){var e=t[K];return e&&e.self===t?e:F(t)?(Q.hash.value=X++,Q.self.value=t,Y.value=M(null,Q),$(t,K,Y),Y.value):void 0}function s(t){return a(t),T.apply(this,arguments)}function l(t){return a(t),A.apply(this,arguments)}function f(t){return a(t),z.apply(this,arguments)}function h(t){return i(t)?t[U]:t}function p(t){for(var e=[],r=k(t),n=0;n<r.length;n++){var i=r[n];V[i]||W[i]||e.push(i)}return e}function v(t,e){return I(t,h(e))}function y(t){for(var e=[],r=k(t),n=0;n<r.length;n++){var i=V[r[n]];i&&e.push(i)}return e}function b(t){return N.call(this,h(t))}function m(e){return t.traceur&&t.traceur.options[e]}function d(t,e,r){var n,o;return i(e)&&(n=e,e=e[U]),t[e]=r,n&&(o=I(t,e))&&$(t,e,{enumerable:!1}),r}function g(t,e,r){return i(e)&&(r.enumerable&&(r=M(r,{enumerable:{value:!1}})),e=e[U]),$(t,e,r),t}function j(t){$(t,"defineProperty",{value:g}),$(t,"getOwnPropertyNames",{value:p}),$(t,"getOwnPropertyDescriptor",{value:v}),$(t.prototype,"hasOwnProperty",{value:b}),$(t,"freeze",{value:s}),$(t,"preventExtensions",{value:l}),$(t,"seal",{value:f}),t.getOwnPropertySymbols=y}function w(t){for(var e=1;e<arguments.length;e++)for(var r=k(arguments[e]),n=0;n<r.length;n++){var i=r[n];W[i]||!function(e,r){$(t,r,{get:function(){return e[r]},enumerable:!0})}(arguments[e],r[n])}return t}function O(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function _(t){if(null==t)throw R();return P(t)}function S(t){if(null==t)throw new TypeError("Value cannot be converted to an Object");return t}function x(t){t.Symbol=u,t.Reflect=t.Reflect||{},t.Reflect.global=t.Reflect.global||t,j(t.Object)}if(!t.$traceurRuntime){var P=Object,R=TypeError,M=P.create,E=P.defineProperties,$=P.defineProperty,T=P.freeze,I=P.getOwnPropertyDescriptor,k=P.getOwnPropertyNames,C=P.keys,N=P.prototype.hasOwnProperty,A=(P.prototype.toString,Object.preventExtensions),z=Object.seal,F=Object.isExtensible,G={"void":function(){},any:function(){},string:function(){},number:function(){},"boolean":function(){}},H=e,D=0,U=r(),B=r(),L=r(),V=M(null),W=M(null);$(u.prototype,"constructor",e(u)),$(u.prototype,"toString",H(function(){var t=this[L];if(!m("symbols"))return t[U];if(!t)throw TypeError("Conversion from symbol to string");var e=t[B];return void 0===e&&(e=""),"Symbol("+e+")"})),$(u.prototype,"valueOf",H(function(){var t=this[L];if(!t)throw TypeError("Conversion from symbol to string");return m("symbols")?t:t[U]})),$(c.prototype,"constructor",e(u)),$(c.prototype,"toString",{value:u.prototype.toString,enumerable:!1}),$(c.prototype,"valueOf",{value:u.prototype.valueOf,enumerable:!1});var K=n(),Y={value:void 0},Q={hash:{value:void 0},self:{value:void 0}},X=0;u.iterator=u(),s(c.prototype),x(t),t.$traceurRuntime={createPrivateName:n,exportStar:w,getOwnHashObject:a,privateNames:W,setProperty:d,setupGlobals:x,toObject:_,isObject:O,toProperty:h,type:G,"typeof":o,checkObjectCoercible:S,hasOwnProperty:function(t,e){return b.call(t,e)},defineProperties:E,defineProperty:$,getOwnPropertyDescriptor:I,getOwnPropertyNames:k,keys:C}}}("undefined"!=typeof t?t:this),function(){"use strict";function t(){for(var t,e=[],r=0,n=0;n<arguments.length;n++){var i=$traceurRuntime.checkObjectCoercible(arguments[n]);if("function"!=typeof i[$traceurRuntime.toProperty(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var o=i[$traceurRuntime.toProperty(Symbol.iterator)]();!(t=o.next()).done;)e[r++]=t.value}return e}$traceurRuntime.spread=t}(),function(){"use strict";function t(t,e){var r=y(t);do{var n=p(r,e);if(n)return n;r=y(r)}while(r)}function e(t,e,n,i){return r(t,e,n).apply(t,i)}function r(e,r,n){var i=t(r,n);if(i)return i.get?i.get.call(e):i.value}function n(e,r,n,i){var o=t(r,n);if(o&&o.set)return o.set.call(e,i),i;throw s("super has no setter '"+n+"'.")}function i(t){for(var e,r={},n=v(t),i=0;i<n.length;i++){var e=n[i];r[e]=p(t,e)}return r}function o(t,e,r,n){return h(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof n&&(t.__proto__=n),t.prototype=l(u(n),i(e))):t.prototype=e,h(t,"prototype",{configurable:!1,writable:!1}),f(t,i(r))}function u(t){if("function"==typeof t){var e=t.prototype;if(a(e)===e||null===e)return t.prototype;throw new s("super prototype must be an Object or null")}if(null===t)return null;throw new s("Super expression must either be null or a function, not "+typeof t+".")}function c(t,r,n){null!==y(r)&&e(t,r,"constructor",n)}var a=Object,s=TypeError,l=a.create,f=$traceurRuntime.defineProperties,h=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,v=$traceurRuntime.getOwnPropertyNames,y=Object.getPrototypeOf;$traceurRuntime.createClass=o,$traceurRuntime.defaultSuperCall=c,$traceurRuntime.superCall=e,$traceurRuntime.superGet=r,$traceurRuntime.superSet=n}(),function(){"use strict";function t(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function e(t){return new Error("Traceur compiler bug: invalid state in state machine: "+t)}function r(){this.state=0,this.GState=m,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent_=void 0,this.returnValue=void 0,this.tryStack_=[]}function n(t,e,r,n){switch(t.GState){case d:throw new Error('"'+r+'" on executing generator');case j:if("next"==r)return{value:void 0,done:!0};throw n;case m:if("throw"===r)throw t.GState=j,n;if(void 0!==n)throw b("Sent value to newborn generator");case g:t.GState=d,t.action=r,t.sent=n;var i=e(t),o=i===t;return o&&(i=t.returnValue),t.GState=o?j:g,{value:i,done:o}}}function i(){}function o(){}function u(t,e,n){var i=l(t,n),o=new r,u=y(e.prototype);return u[_]=o,u[S]=i,u}function c(t){return t.prototype=y(o.prototype),t.__proto__=o,t}function a(){r.call(this),this.err=void 0;var t=this;t.result=new Promise(function(e,r){t.resolve=e,t.reject=r})}function s(t,e){var r=l(t,e),n=new a;return n.createCallback=function(t){return function(e){n.state=t,n.value=e,r(n)}},n.errback=function(t){f(n,t),r(n)},r(n),n.result}function l(t,e){return function(r){for(;;)try{return t.call(e,r)}catch(n){f(r,n)}}}function f(t,e){t.storedException=e;var r=t.tryStack_[t.tryStack_.length-1];return r?(t.state=void 0!==r["catch"]?r["catch"]:r["finally"],void(void 0!==r.finallyFallThrough&&(t.finallyFallThrough=r.finallyFallThrough))):void t.handleException(e)}var h=$traceurRuntime.createPrivateName,p=$traceurRuntime.defineProperties,v=$traceurRuntime.defineProperty,y=Object.create,b=TypeError,m=0,d=1,g=2,j=3,w=-2,O=-3;r.prototype={pushTry:function(t,e){if(null!==e){for(var r=null,n=this.tryStack_.length-1;n>=0;n--)if(void 0!==this.tryStack_[n]["catch"]){r=this.tryStack_[n]["catch"];break}null===r&&(r=O),this.tryStack_.push({"finally":e,finallyFallThrough:r})}null!==t&&this.tryStack_.push({"catch":t})},popTry:function(){this.tryStack_.pop()},get sent(){return this.maybeThrow(),this.sent_},set sent(t){this.sent_=t},get sentIgnoreThrow(){return this.sent_},maybeThrow:function(){if("throw"===this.action)throw this.action="next",this.sent_},end:function(){switch(this.state){case w:return this;case O:throw this.storedException;default:throw e(this.state)}},handleException:function(t){throw this.GState=j,this.state=w,t}};var _=h(),S=h();i.prototype=o,v(o,"constructor",t(i)),o.prototype={constructor:o,next:function(t){return n(this[_],this[S],"next",t)},"throw":function(t){return n(this[_],this[S],"throw",t)}},p(o.prototype,{constructor:{enumerable:!1},next:{enumerable:!1},"throw":{enumerable:!1}}),Object.defineProperty(o.prototype,Symbol.iterator,t(function(){return this})),a.prototype=y(r.prototype),a.prototype.end=function(){switch(this.state){case w:this.resolve(this.returnValue);break;case O:this.reject(this.storedException);break;default:this.reject(e(this.state))}},a.prototype.handleException=function(){this.state=O},$traceurRuntime.asyncWrap=s,$traceurRuntime.initGeneratorFunction=c,$traceurRuntime.createGeneratorInstance=u}(),function(){function t(t,e,r,n,i,o,u){var c=[];return t&&c.push(t,":"),r&&(c.push("//"),e&&c.push(e,"@"),c.push(r),n&&c.push(":",n)),i&&c.push(i),o&&c.push("?",o),u&&c.push("#",u),c.join("")}function e(t){return t.match(c)}function r(t){if("/"===t)return"/";for(var e="/"===t[0]?"/":"",r="/"===t.slice(-1)?"/":"",n=t.split("/"),i=[],o=0,u=0;u<n.length;u++){var c=n[u];switch(c){case"":case".":break;case"..":i.length?i.pop():o++;break;default:i.push(c)}}if(!e){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+r}function n(e){var n=e[a.PATH]||"";return n=r(n),e[a.PATH]=n,t(e[a.SCHEME],e[a.USER_INFO],e[a.DOMAIN],e[a.PORT],e[a.PATH],e[a.QUERY_DATA],e[a.FRAGMENT])}function i(t){var r=e(t);return n(r)}function o(t,r){var i=e(r),o=e(t);if(i[a.SCHEME])return n(i);i[a.SCHEME]=o[a.SCHEME];for(var u=a.SCHEME;u<=a.PORT;u++)i[u]||(i[u]=o[u]);if("/"==i[a.PATH][0])return n(i);var c=o[a.PATH],s=c.lastIndexOf("/");return c=c.slice(0,s+1)+i[a.PATH],i[a.PATH]=c,n(i)}function u(t){if(!t)return!1;if("/"===t[0])return!0;var r=e(t);return!!r[a.SCHEME]}var c=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),a={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=i,$traceurRuntime.isAbsolute=u,$traceurRuntime.removeDotSegments=r,$traceurRuntime.resolveUrl=o}(),function(t){"use strict";function e(t){if(t){var e=y.normalize(t);return a[e]}}function r(t){var e=arguments[1],r=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){var i,o;if(e===v){var u=Object.getOwnPropertyDescriptor(t,n);u.get&&(i=u.get)}i||(o=t[n],i=function(){return o}),Object.defineProperty(r,n,{get:i,enumerable:!0})}),Object.preventExtensions(r),r}var n,i=$traceurRuntime,o=i.canonicalizeUrl,u=i.resolveUrl,c=i.isAbsolute,a=Object.create(null);n=t.location&&t.location.href?u(t.location.href,"./"):"";var s=function(t,e){this.url=t,this.value_=e};$traceurRuntime.createClass(s,{},{});var l=function(t,e){this.message=this.constructor.name+(e?": '"+e+"'":"")+" in "+t};$traceurRuntime.createClass(l,{loadedBy:function(t){this.message+="\n loaded by "+t}},{},Error);var f=function(t,e){$traceurRuntime.superCall(this,h.prototype,"constructor",[t,null]),this.func=e},h=f;$traceurRuntime.createClass(f,{getUncoatedModule:function(){if(this.value_)return this.value_;try{return this.value_=this.func.call(t)}catch(e){if(e instanceof l)throw e.loadedBy(this.url),e;throw new l(this.url,e)}}},{},s);var p=Object.create(null),v={},y={normalize:function(t,e,r){if("string"!=typeof t)throw new TypeError("module name must be a string, not "+typeof t);if(c(t))return o(t);if(/[^\.]\/\.\.\//.test(t))throw new Error("module name embeds /../: "+t);return"."===t[0]&&e?u(e,t):o(t)},get:function(t){var n=e(t);if(n){var i=p[n.url];return i?i:(i=r(n.getUncoatedModule(),v),p[n.url]=i)}},set:function(t,e){t=String(t),a[t]=new f(t,function(){return e}),p[t]=e},get baseURL(){return n},set baseURL(t){n=String(t)},registerModule:function(t,e){var r=y.normalize(t);if(a[r])throw new Error("duplicate module named "+r);a[r]=new f(r,e)},bundleStore:Object.create(null),register:function(t,e,r){e&&(e.length||r.length)?this.bundleStore[t]={deps:e,execute:function(){var t=arguments,n={};e.forEach(function(e,r){return n[e]=t[r]});var i=r.call(this,n);return i.execute.call(this),i.exports}}:this.registerModule(t,r)},getAnonymousModule:function(e){return new r(e.call(t),v)},getForTesting:function(t){var e=this;return this.testingPrefix_||Object.keys(p).some(function(t){var r=/(traceur@[^\/]*\/)/.exec(t);if(r)return e.testingPrefix_=r[1],!0}),this.get(this.testingPrefix_+t)}};y.set("@traceur/src/runtime/ModuleStore",new r({ModuleStore:y}));var b=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(t){b(t)},$traceurRuntime.ModuleStore=y,t.System={register:y.register.bind(y),get:y.get,set:y.set,normalize:y.normalize},$traceurRuntime.getModuleImpl=function(t){var r=e(t);return r&&r.getUncoatedModule()}}("undefined"!=typeof t?t:this),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/utils",[],function(){"use strict";function t(t){return t>>>0}function e(t){return t&&("object"==typeof t||"function"==typeof t)}function r(t){return"function"==typeof t}function n(t){return"number"==typeof t}function i(t){return t=+t,j(t)?0:0!==t&&g(t)?t>0?d(t):m(t):t}function o(t){var e=i(t);return e<0?0:O(e,S)}function u(t){return e(t)?t[Symbol.iterator]:void 0}function c(t){return r(t)}function a(t,e){return{value:t,done:e}}function s(t,e,r){e in t||Object.defineProperty(t,e,r)}function l(t,e,r){s(t,e,{value:r,configurable:!0,enumerable:!1,writable:!0})}function f(t,e,r){s(t,e,{value:r,configurable:!1,enumerable:!1,writable:!1})}function h(t,e){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];l(t,n,i)}}function p(t,e){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];f(t,n,i)}}function v(t,e,r){r&&r.iterator&&!t[r.iterator]&&(t["@@iterator"]&&(e=t["@@iterator"]),Object.defineProperty(t,r.iterator,{value:e,configurable:!0,enumerable:!1,writable:!0}))}function y(t){x.push(t)}function b(t){x.forEach(function(e){return e(t)})}var m=Math.ceil,d=Math.floor,g=isFinite,j=isNaN,w=Math.pow,O=Math.min,_=$traceurRuntime.toObject,S=w(2,53)-1,x=[];return{get toObject(){return _},get toUint32(){return t},get isObject(){return e},get isCallable(){return r},get isNumber(){return n},get toInteger(){return i},get toLength(){return o},get checkIterable(){return u},get isConstructor(){return c},get createIteratorResultObject(){return a},get maybeDefine(){return s},get maybeDefineMethod(){return l},get maybeDefineConst(){return f},get maybeAddFunctions(){return h},get maybeAddConsts(){return p},get maybeAddIterator(){return v},get registerPolyfill(){return y},get polyfillAll(){return b}}}),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/Map",[],function(){"use strict";function t(t,e){if(i(e)){var r=c(e);return r&&t.objectIndex_[r.hash]}return"string"==typeof e?t.stringIndex_[e]:t.primitiveIndex_[e]}function e(t){t.entries_=[],t.objectIndex_=Object.create(null),t.stringIndex_=Object.create(null),t.primitiveIndex_=Object.create(null),t.deletedCount_=0}function r(t){var e=t,r=e.Object,n=e.Symbol;t.Map||(t.Map=l);var i=t.Map.prototype;i.entries&&(o(i,i.entries,n),o(r.getPrototypeOf((new t.Map).entries()),function(){return this},n))}var n=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),i=n.isObject,o=n.maybeAddIterator,u=n.registerPolyfill,c=$traceurRuntime.getOwnHashObject,a=Object.prototype.hasOwnProperty,s={},l=function(){var t=arguments[0];if(!i(this))throw new TypeError("Map called on incompatible type");if(a.call(this,"entries_"))throw new TypeError("Map can not be reentrantly initialised");if(e(this),null!==t&&void 0!==t)for(var r,n=t[Symbol.iterator]();!(r=n.next()).done;){var o=r.value,u=o[0],c=o[1];this.set(u,c)}};return $traceurRuntime.createClass(l,{get size(){return this.entries_.length/2-this.deletedCount_},get:function(e){var r=t(this,e);if(void 0!==r)return this.entries_[r+1]},set:function(e,r){var n=i(e),o="string"==typeof e,u=t(this,e);if(void 0!==u)this.entries_[u+1]=r;else if(u=this.entries_.length,this.entries_[u]=e,this.entries_[u+1]=r,n){var a=c(e),s=a.hash;this.objectIndex_[s]=u}else o?this.stringIndex_[e]=u:this.primitiveIndex_[e]=u;return this},has:function(e){return void 0!==t(this,e)},"delete":function(t){var e,r,n=i(t),o="string"==typeof t;if(n){var u=c(t);u&&(e=this.objectIndex_[r=u.hash],delete this.objectIndex_[r])}else o?(e=this.stringIndex_[t],delete this.stringIndex_[t]):(e=this.primitiveIndex_[t],delete this.primitiveIndex_[t]);void 0!==e&&(this.entries_[e]=s,this.entries_[e+1]=void 0,this.deletedCount_++)},clear:function(){e(this)},forEach:function(t){for(var e=arguments[1],r=0,n=this.entries_.length;r<n;r+=2){var i=this.entries_[r],o=this.entries_[r+1];i!==s&&t.call(e,o,i,this)}},entries:$traceurRuntime.initGeneratorFunction(function f(){var t,e,r,n;return $traceurRuntime.createGeneratorInstance(function(i){for(;;)switch(i.state){case 0:t=0,e=this.entries_.length,i.state=12;break;case 12:i.state=t<e?8:-2;break;case 4:t+=2,i.state=12;break;case 8:r=this.entries_[t],n=this.entries_[t+1],i.state=9;break;case 9:i.state=r===s?4:6;break;case 6:return i.state=2,[r,n];case 2:i.maybeThrow(),i.state=4;break;default:return i.end()}},f,this)}),keys:$traceurRuntime.initGeneratorFunction(function h(){var t,e,r,n;return $traceurRuntime.createGeneratorInstance(function(i){for(;;)switch(i.state){case 0:t=0,e=this.entries_.length,i.state=12;break;case 12:i.state=t<e?8:-2;break;case 4:t+=2,i.state=12;break;case 8:r=this.entries_[t],n=this.entries_[t+1],i.state=9;break;case 9:i.state=r===s?4:6;break;case 6:return i.state=2,r;case 2:i.maybeThrow(),i.state=4;break;default:return i.end()}},h,this)}),values:$traceurRuntime.initGeneratorFunction(function p(){var t,e,r,n;return $traceurRuntime.createGeneratorInstance(function(i){for(;;)switch(i.state){case 0:t=0,e=this.entries_.length,i.state=12;break;case 12:i.state=t<e?8:-2;break;case 4:t+=2,i.state=12;break;case 8:r=this.entries_[t],n=this.entries_[t+1],i.state=9;break;case 9:i.state=r===s?4:6;break;case 6:return i.state=2,n;case 2:i.maybeThrow(),i.state=4;break;default:return i.end()}},p,this)})},{}),Object.defineProperty(l.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:l.prototype.entries}),u(r),{get Map(){return l},get polyfillMap(){return r}}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/Map"),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/Set",[],function(){"use strict";function t(t){t.map_=new u}function e(t){var e=t,r=e.Object,n=e.Symbol;t.Set||(t.Set=a);var o=t.Set.prototype;o.values&&(i(o,o.values,n),i(r.getPrototypeOf((new t.Set).values()),function(){return this},n))}var r=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),n=r.isObject,i=r.maybeAddIterator,o=r.registerPolyfill,u=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/Map").Map,c=($traceurRuntime.getOwnHashObject,Object.prototype.hasOwnProperty),a=function(){var e=arguments[0];if(!n(this))throw new TypeError("Set called on incompatible type");if(c.call(this,"map_"))throw new TypeError("Set can not be reentrantly initialised");if(t(this),null!==e&&void 0!==e)for(var r,i=e[Symbol.iterator]();!(r=i.next()).done;){var o=r.value;this.add(o)}};return $traceurRuntime.createClass(a,{get size(){return this.map_.size},has:function(t){return this.map_.has(t)},add:function(t){return this.map_.set(t,t)},"delete":function(t){return this.map_["delete"](t)},clear:function(){return this.map_.clear()},forEach:function(t){var e=arguments[1],r=this;return this.map_.forEach(function(n,i){t.call(e,i,i,r)})},values:$traceurRuntime.initGeneratorFunction(function s(){var t,e;return $traceurRuntime.createGeneratorInstance(function(r){for(;;)switch(r.state){case 0:t=this.map_.keys()[Symbol.iterator](),r.sent=void 0,r.action="next",r.state=12;break;case 12:e=t[r.action](r.sentIgnoreThrow),r.state=9;break;case 9:r.state=e.done?3:2;break;case 3:r.sent=e.value,r.state=-2;break;case 2:return r.state=12,e.value;default:return r.end()}},s,this)}),entries:$traceurRuntime.initGeneratorFunction(function l(){var t,e;return $traceurRuntime.createGeneratorInstance(function(r){for(;;)switch(r.state){case 0:t=this.map_.entries()[Symbol.iterator](),r.sent=void 0,r.action="next",r.state=12;break;case 12:e=t[r.action](r.sentIgnoreThrow),r.state=9;break;case 9:r.state=e.done?3:2;break;case 3:r.sent=e.value,r.state=-2;break;case 2:return r.state=12,e.value;default:return r.end()}},l,this)})},{}),Object.defineProperty(a.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:a.prototype.values}),Object.defineProperty(a.prototype,"keys",{configurable:!0,writable:!0,value:a.prototype.values}),o(e),{get Set(){return a},get polyfillSet(){return e}}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/Set"),System.register("traceur-runtime@0.0.58/node_modules/rsvp/lib/rsvp/asap",[],function(){"use strict";function t(t,e){var r=l.push([t,e]);1===r&&u()}function r(){return function(){e.nextTick(o)}}function n(){var t=0,e=new s(o),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function i(){return function(){setTimeout(o,1)}}function o(){for(var t=0;t<l.length;t++){var e=l[t],r=e[0],n=e[1];r(n)}l=[]}var u,c=t,a="undefined"!=typeof window?window:{},s=a.MutationObserver||a.WebKitMutationObserver,l=[];return u="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?r():s?n():i(),{get default(){return c}}}),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/Promise",[],function(){"use strict";function t(t){return t&&"object"==typeof t&&void 0!==t.status_}function e(t){return t}function r(t){throw t}function n(t){var n=void 0!==arguments[1]?arguments[1]:e,o=void 0!==arguments[2]?arguments[2]:r,u=i(t.constructor);switch(t.status_){case void 0:throw TypeError;case 0:t.onResolve_.push(n,u),t.onReject_.push(o,u);break;case 1:l(t.value_,[n,u]);break;case-1:l(t.value_,[o,u])}return u.promise}function i(t){if(this===g){var e=u(new g(m));return{promise:e,resolve:function(t){c(e,t)},reject:function(t){a(e,t)}}}var r={};return r.promise=new t(function(t,e){r.resolve=t,r.reject=e}),r}function o(t,e,r,n,i){return t.status_=e,t.value_=r,t.onResolve_=n,t.onReject_=i,t}function u(t){return o(t,0,void 0,[],[])}function c(t,e){s(t,1,e,t.onResolve_)}function a(t,e){s(t,-1,e,t.onReject_)}function s(t,e,r,n){0===t.status_&&(l(r,n),o(t,e,r))}function l(t,e){y(function(){for(var r=0;r<e.length;r+=2)f(t,e[r],e[r+1])})}function f(e,r,i){try{var o=r(e);if(o===i.promise)throw new TypeError;t(o)?n(o,i.resolve,i.reject):i.resolve(o)}catch(u){try{i.reject(u)}catch(u){}}}function h(t){return t&&("object"==typeof t||"function"==typeof t)}function p(e,r){if(!t(r)&&h(r)){var n;try{n=r.then}catch(o){var u=j.call(e,o);return r[w]=u,u}if("function"==typeof n){var c=r[w];if(c)return c;var a=i(e);r[w]=a.promise;try{n.call(r,a.resolve,a.reject)}catch(o){a.reject(o)}return a.promise}}return r}function v(t){t.Promise||(t.Promise=d)}var y=System.get("traceur-runtime@0.0.58/node_modules/rsvp/lib/rsvp/asap")["default"],b=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils").registerPolyfill,m={},d=function(t){if(t!==m){if("function"!=typeof t)throw new TypeError;var e=u(this);try{t(function(t){c(e,t)},function(t){a(e,t)})}catch(r){a(e,r)}}};$traceurRuntime.createClass(d,{"catch":function(t){return this.then(void 0,t)},then:function(i,o){"function"!=typeof i&&(i=e),"function"!=typeof o&&(o=r);var u=this,c=this.constructor;return n(this,function(e){return e=p(c,e),e===u?o(new TypeError):t(e)?e.then(i,o):i(e)},o)}},{resolve:function(t){return this===g?o(new g(m),1,t):new this(function(e,r){e(t)})},reject:function(t){return this===g?o(new g(m),-1,t):new this(function(e,r){r(t)})},cast:function(e){if(e instanceof this)return e;if(t(e)){var r=i(this);return n(e,r.resolve,r.reject),r.promise}return this.resolve(e)},all:function(t){var e=i(this),r=[];try{var n=t.length;if(0===n)e.resolve(r);else for(var o=0;o<t.length;o++)this.resolve(t[o]).then(function(t,i){r[t]=i,0===--n&&e.resolve(r)}.bind(void 0,o),function(t){e.reject(t)})}catch(u){e.reject(u)}return e.promise},race:function(t){var e=i(this);try{for(var r=0;r<t.length;r++)this.resolve(t[r]).then(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(n){e.reject(n)}return e.promise}});var g=d,j=g.reject,w="@@thenable";return b(v),{get Promise(){return d},get polyfillPromise(){return v}}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/Promise"),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/StringIterator",[],function(){"use strict";function t(t){var e=String(t),r=Object.create(l.prototype);return r[c(a)]=e,r[c(s)]=0,r}var e,r=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),n=r.createIteratorResultObject,i=r.isObject,o=$traceurRuntime,u=o.hasOwnProperty,c=o.toProperty,a=Symbol("iteratedString"),s=Symbol("stringIteratorNextIndex"),l=function(){};return $traceurRuntime.createClass(l,(e={},Object.defineProperty(e,"next",{value:function(){var t=this;if(!i(t)||!u(t,a))throw new TypeError("this must be a StringIterator object");var e=t[c(a)];if(void 0===e)return n(void 0,!0);var r=t[c(s)],o=e.length;if(r>=o)return t[c(a)]=void 0,n(void 0,!0);var l,f=e.charCodeAt(r);if(f<55296||f>56319||r+1===o)l=String.fromCharCode(f);else{var h=e.charCodeAt(r+1);l=h<56320||h>57343?String.fromCharCode(f):String.fromCharCode(f)+String.fromCharCode(h)}return t[c(s)]=r+l.length,n(l,!1)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(e,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),e),{}),{get createStringIterator(){return t}}}),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/String",[],function(){"use strict";function t(t){var e=String(this);if(null==this||"[object RegExp]"==v.call(t))throw TypeError();var r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);var u=Math.min(Math.max(o,0),r);return y.call(e,n,o)==u}function e(t){var e=String(this);if(null==this||"[object RegExp]"==v.call(t))throw TypeError();var r=e.length,n=String(t),i=n.length,o=r;if(arguments.length>1){var u=arguments[1];void 0!==u&&(o=u?Number(u):0,isNaN(o)&&(o=0))}var c=Math.min(Math.max(o,0),r),a=c-i;return!(a<0)&&b.call(e,n,a)==a}function r(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),o=i?Number(i):0;isNaN(o)&&(o=0);Math.min(Math.max(o,0),r);return y.call(e,n,o)!=-1}function n(t){if(null==this)throw TypeError();var e=String(this),r=t?Number(t):0;if(isNaN(r)&&(r=0),r<0||r==1/0)throw RangeError();if(0==r)return"";for(var n="";r--;)n+=e;return n}function i(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=t?Number(t):0;if(isNaN(n)&&(n=0),!(n<0||n>=r)){var i,o=e.charCodeAt(n);return o>=55296&&o<=56319&&r>n+1&&(i=e.charCodeAt(n+1),i>=56320&&i<=57343)?1024*(o-55296)+i-56320+65536:o}}function o(t){var e=t.raw,r=e.length>>>0;if(0===r)return"";for(var n="",i=0;;){if(n+=e[i],i+1===r)return n;n+=arguments[++i]}}function u(){var t,e,r=[],n=Math.floor,i=-1,o=arguments.length;if(!o)return"";for(;++i<o;){var u=Number(arguments[i]);if(!isFinite(u)||u<0||u>1114111||n(u)!=u)throw RangeError("Invalid code point: "+u);u<=65535?r.push(u):(u-=65536,t=(u>>10)+55296,e=u%1024+56320,r.push(t,e))}return String.fromCharCode.apply(null,r)}function c(){var t=$traceurRuntime.checkObjectCoercible(this),e=String(t);return s(e)}function a(a){var s=a.String;f(s.prototype,["codePointAt",i,"contains",r,"endsWith",e,"startsWith",t,"repeat",n]),f(s,["fromCodePoint",u,"raw",o]),h(s.prototype,c,Symbol)}var s=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/StringIterator").createStringIterator,l=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),f=l.maybeAddFunctions,h=l.maybeAddIterator,p=l.registerPolyfill,v=Object.prototype.toString,y=String.prototype.indexOf,b=String.prototype.lastIndexOf;return p(a),{get startsWith(){return t},get endsWith(){return e},get contains(){return r},get repeat(){return n},get codePointAt(){return i},get raw(){return o},get fromCodePoint(){return u},get stringPrototypeIterator(){return c},get polyfillString(){return a}}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/String"),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/ArrayIterator",[],function(){"use strict";function t(t,e){var r=u(t),n=new h;return n.iteratorObject_=r,n.arrayIteratorNextIndex_=0,n.arrayIterationKind_=e,n}function e(){return t(this,f)}function r(){return t(this,s)}function n(){return t(this,l)}var i,o=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),u=o.toObject,c=o.toUint32,a=o.createIteratorResultObject,s=1,l=2,f=3,h=function(){};return $traceurRuntime.createClass(h,(i={},Object.defineProperty(i,"next",{value:function(){var t=u(this),e=t.iteratorObject_;if(!e)throw new TypeError("Object is not an ArrayIterator");var r=t.arrayIteratorNextIndex_,n=t.arrayIterationKind_,i=c(e.length);return r>=i?(t.arrayIteratorNextIndex_=1/0,a(void 0,!0)):(t.arrayIteratorNextIndex_=r+1,n==l?a(e[r],!1):n==f?a([r,e[r]],!1):a(r,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),i),{}),{get entries(){return e},get keys(){return r},get values(){return n}}}),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/Array",[],function(){"use strict";function t(t){var e,r,n=arguments[1],i=arguments[2],o=this,u=j(t),c=void 0!==n,a=0;if(c&&!p(n))throw TypeError();if(h(u)){e=v(o)?new o:[];for(var s,l=u[Symbol.iterator]();!(s=l.next()).done;){var f=s.value;c?e[a]=n.call(i,f,a):e[a]=f,a++}return e.length=a,e}for(r=g(u.length),e=v(o)?new o(r):new Array(r);a<r;a++)c?e[a]="undefined"==typeof i?n(u[a],a):n.call(i,u[a],a):e[a]=u[a];return e.length=r,e}function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=this,n=t.length,i=v(r)?new r(n):new Array(n),o=0;o<n;o++)i[o]=t[o];return i.length=n,i}function r(t){var e=void 0!==arguments[1]?arguments[1]:0,r=arguments[2],n=j(this),i=g(n.length),o=d(e),u=void 0!==r?d(r):i;for(o=o<0?Math.max(i+o,0):Math.min(o,i),u=u<0?Math.max(i+u,0):Math.min(u,i);o<u;)n[o]=t,o++;return n}function n(t){var e=arguments[1];return o(this,t,e)}function i(t){var e=arguments[1];return o(this,t,e,!0)}function o(t,e){var r=arguments[2],n=void 0!==arguments[3]&&arguments[3],i=j(t),o=g(i.length);if(!p(e))throw TypeError();for(var u=0;u<o;u++)if(u in i){var c=i[u];if(e.call(r,c,u,i))return n?u:c}return n?-1:void 0}function u(o){var u=o,c=u.Array,f=u.Object,h=u.Symbol;y(c.prototype,["entries",a,"keys",s,"values",l,"fill",r,"find",n,"findIndex",i]),y(c,["from",t,"of",e]),b(c.prototype,l,h),b(f.getPrototypeOf([].values()),function(){return this},h)}var c=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/ArrayIterator"),a=c.entries,s=c.keys,l=c.values,f=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),h=f.checkIterable,p=f.isCallable,v=f.isConstructor,y=f.maybeAddFunctions,b=f.maybeAddIterator,m=f.registerPolyfill,d=f.toInteger,g=f.toLength,j=f.toObject;return m(u),{get from(){return t},get of(){return e},get fill(){return r},get find(){return n},get findIndex(){return i},get polyfillArray(){return u}}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/Array"),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/Object",[],function(){"use strict";function t(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function e(t){for(var e=1;e<arguments.length;e++){var r,n=arguments[e],i=f(n),o=i.length;for(r=0;r<o;r++){var u=i[r];h[u]||(t[u]=n[u])}}return t}function r(t,e){var r,n,i=l(e),o=i.length;for(r=0;r<o;r++){var u=i[r];h[u]||(n=s(e,i[r]),a(t,i[r],n))}return t}function n(n){var i=n.Object;o(i,["assign",e,"is",t,"mixin",r])}var i=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),o=i.maybeAddFunctions,u=i.registerPolyfill,c=$traceurRuntime,a=c.defineProperty,s=c.getOwnPropertyDescriptor,l=c.getOwnPropertyNames,f=c.keys,h=c.privateNames;
return u(n),{get is(){return t},get assign(){return e},get mixin(){return r},get polyfillObject(){return n}}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/Object"),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/Number",[],function(){"use strict";function t(t){return u(t)&&h(t)}function e(e){return t(e)&&l(e)===e}function r(t){return u(t)&&p(t)}function n(e){if(t(e)){var r=l(e);if(r===e)return f(r)<=v}return!1}function i(i){var o=i.Number;c(o,["MAX_SAFE_INTEGER",v,"MIN_SAFE_INTEGER",y,"EPSILON",b]),a(o,["isFinite",t,"isInteger",e,"isNaN",r,"isSafeInteger",n])}var o=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils"),u=o.isNumber,c=o.maybeAddConsts,a=o.maybeAddFunctions,s=o.registerPolyfill,l=o.toInteger,f=Math.abs,h=isFinite,p=isNaN,v=Math.pow(2,53)-1,y=-Math.pow(2,53)+1,b=Math.pow(2,-52);return s(i),{get MAX_SAFE_INTEGER(){return v},get MIN_SAFE_INTEGER(){return y},get EPSILON(){return b},get isFinite(){return t},get isInteger(){return e},get isNaN(){return r},get isSafeInteger(){return n},get polyfillNumber(){return i}}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/Number"),System.register("traceur-runtime@0.0.58/src/runtime/polyfills/polyfills",[],function(){"use strict";var t=System.get("traceur-runtime@0.0.58/src/runtime/polyfills/utils").polyfillAll;t(this);var e=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(r){e(r),t(r)},{}}),System.get("traceur-runtime@0.0.58/src/runtime/polyfills/polyfills")}).call(e,function(){return this}(),r(4))},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return o}},__esModule:{value:!0}}),r(1);var n=function(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0},i=n;$traceurRuntime.createClass(n,{getX:function(){return this.x},getY:function(){return this.y},getZ:function(){return this.z},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},asUnitVector:function(){var t=this.magnitude();return new i(this.x/t,this.y/t,this.z/t)},scaled:function(t){var e=this.magnitude();return new i(this.x*t/e,this.y*t/e,this.z*t/e)},multiply:function(t){return this.x*=t,this.y*=t,this.z*=t,this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},vectorTo:function(t){return new i(t.x-this.x,t.y-this.y,t.z-this.z)},withinSphere:function(t,e){var r=(this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y)+(this.z-t.z)*(this.z-t.z);return r<e*e},withinBox:function(t,e){return!0},copy:function(){return new i(this.x,this.y,this.z)}},{fromArray:function(t){return new i(t[0],t[1],t[2])}});var o=n},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return u}},__esModule:{value:!0}});var n;r(1);var i=(n=r(2),n&&n.__esModule&&n||{"default":n})["default"],o=function(t){var e=void 0!==arguments[1]?arguments[1]:"object";this.offset=new i,this.position=new i,this.selectable=!0,this.transformable=!0,this.type=e,this.id=t};$traceurRuntime.createClass(o,{setPosition:function(t,e,r){this.position=new i(t+this.offset.x,e+this.offset.y,r+this.offset.z)},getPosition:function(){return this.position},setOffset:function(t,e,r){this.offset=new i(t,e,r)},getOffset:function(){return this.offset}},{});var u=o},function(t,e){function r(){f&&s&&(f=!1,s.length?l=s.concat(l):h=-1,l.length&&n())}function n(){if(!f){var t=u.call(null,r);f=!0;for(var e=l.length;e;){for(s=l,l=[];++h<e;)s&&s[h].run();h=-1,e=l.length}s=null,f=!1,c.call(null,t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var u,c,a=t.exports={};!function(){try{u=setTimeout}catch(t){u=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(t){c=function(){throw new Error("clearTimeout is not defined")}}}();var s,l=[],f=!1,h=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new i(t,e)),1!==l.length||f||u.call(null,n,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return i}},__esModule:{value:!0}}),r(1);var n=function(){this._events={}};$traceurRuntime.createClass(n,{on:function(t,e){return $traceurRuntime.setProperty(this._events,t,this._events[$traceurRuntime.toProperty(t)]||[]),this._events[$traceurRuntime.toProperty(t)].push(e),this},off:function(t,e){if(void 0==t)return void(this._events={});if($traceurRuntime.toProperty(t)in this._events!=!1)return e?this._events[$traceurRuntime.toProperty(t)].splice(this._events[$traceurRuntime.toProperty(t)].indexOf(e),1):$traceurRuntime.setProperty(this._events,t,[]),this},emit:function(t){if(void 0!==this._events[$traceurRuntime.toProperty(t)])for(var e=this._events[$traceurRuntime.toProperty(t)].slice(),r=0;r<e.length;++r){var n=e[$traceurRuntime.toProperty(r)].apply(this,Array.prototype.slice.call(arguments,1));if(void 0!==n)return n}},guid:function(){var t=void 0!==arguments[0]?arguments[0]:"xxxxxxxxxxxx",e=(new Date).getTime(),r=t.replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:7&r|8).toString(16)});return r}},{});var i=n},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return s}},__esModule:{value:!0}});var n,i;r(1);var o=(n=r(3),n&&n.__esModule&&n||{"default":n})["default"],u=(i=r(2),i&&i.__esModule&&i||{"default":i})["default"],c=function(t,e){$traceurRuntime.superCall(this,a.prototype,"constructor",[t,e])},a=c;$traceurRuntime.createClass(c,{computeAcceleration:function(t){return new u}},{},o);var s=c},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return c}},__esModule:{value:!0}});var n;r(1);var i=(n=r(6),n&&n.__esModule&&n||{"default":n})["default"],o=function(t){$traceurRuntime.superCall(this,u.prototype,"constructor",[t,"field.magnetic"]),this.force=0},u=o;$traceurRuntime.createClass(o,{applyForce:function(t){var e=this.position.x-t.position.x,r=this.position.y-t.position.y,n=this.position.z-t.position.z,i=t.charge*this.force/Math.pow(e*e+r*r+n*n,1.5);Math.abs(i)>.001&&(t.acceleration.x+=e*i,t.acceleration.y+=r*i,t.acceleration.z+=n*i)},setForce:function(t){this.force=t}},{},i);var c=o},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return u}},__esModule:{value:!0}});var n;r(1);var i=(n=r(2),n&&n.__esModule&&n||{"default":n})["default"],o=function(t){this.velocity=new i,this.position=new i,this.acceleration=new i,this.recycled=!1,this.radius=.03,this.dof=t,this.lifeTime=30,this.charge=1,this.ptr=1};$traceurRuntime.createClass(o,{reset:function(){this.recycled=!1,this.lifeTime=30},submitToFields:function(t){var e=this;this.acceleration.x=0,this.acceleration.y=0,this.acceleration.z=0,t.forEach(function(t){t.applyForce(e)})},step:function(t){this.lifeTime-=t,this.dof.x&&(this.velocity.x+=this.acceleration.x*t,this.position.x+=this.velocity.x*t),this.dof.y&&(this.velocity.y+=this.acceleration.y*t,this.position.y+=this.velocity.y*t),this.dof.z&&(this.velocity.z+=this.acceleration.z*t,this.position.z+=this.velocity.z*t)},getPosition:function(){return this.position}},{});var u=o},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return a}},__esModule:{value:!0}});var n,i;r(1);var o=(n=r(3),n&&n.__esModule&&n||{"default":n})["default"],u=((i=r(2),i&&i.__esModule&&i||{"default":i})["default"],function(t){$traceurRuntime.superCall(this,c.prototype,"constructor",[t,"emitter"]),this.spread=2*Math.PI/180,this.emissionRate=500,this.velocity=10,this.charge=1}),c=u;$traceurRuntime.createClass(u,{emitNumber:function(t){return Math.floor(this.emissionRate*t)},emitParticle:function(t){var e=this.spread*(2*Math.random()-1),r=this.spread*(2*Math.random()-1);t.velocity.x=this.velocity*Math.cos(e)*Math.cos(r),t.velocity.y=this.velocity*Math.sin(e)*Math.cos(r),t.velocity.z=this.velocity*Math.sin(r),t.position.x=this.position.x,t.position.y=this.position.y,t.position.z=this.position.z,t.charge=this.charge},setEmissionRate:function(t){this.emissionRate=t},setVelocity:function(t){this.velocity=t},setSpread:function(t){this.spread=t},setCharge:function(t){this.charge=t}},{},o);var a=u},function(t,e,r){"use strict";Object.defineProperties(e,{"default":{get:function(){return p}},ParticleSystem:{get:function(){return f}},__esModule:{value:!0}});var n,i,o,u;r(1);var c=(n=r(9),n&&n.__esModule&&n||{"default":n})["default"],a=(i=r(7),i&&i.__esModule&&i||{"default":i})["default"],s=(o=r(5),o&&o.__esModule&&o||{"default":o})["default"],l=(u=r(8),u&&u.__esModule&&u||{"default":u})["default"],f=function(t){$traceurRuntime.superCall(this,h.prototype,"constructor",[]),this.dof={x:1,y:1,z:1},this.maxParticles=t,this.emittedParticles=0,this.particleIdx=0,this.recycleBin=[],this.particles=[],this.emitters=[],this.fields=[]},h=f;$traceurRuntime.createClass(f,{getObjectById:function(t){for(var e,r=this.emitters[$traceurRuntime.toProperty(Symbol.iterator)]();!(e=r.next()).done;){var n=e.value;if(n.id===t)return n}for(var i,o=this.fields[$traceurRuntime.toProperty(Symbol.iterator)]();!(i=o.next()).done;){var u=i.value;if(u.id===t)return u}return null},destroy:function(){this.recycleBin=[],this.particles=[]},addEmitter:function(t){var e=new c(t);return this.emitters.push(e),e},addMagneticField:function(t){var e=new a(t);return this.fields.push(e),e},step:function(t){this.addNewParticles(t),this.filterParticles(t)},addNewParticles:function(t){var e=this;this.emitters.forEach(function(r){for(var n=0;n<r.emitNumber(t);++n){var i=e.popRecycle();i&&r.emitParticle(i)}})},pushRecycle:function(t){--this.emittedParticles,t.recycled=!0,this.recycleBin.push(t)},popRecycle:function(){if(this.emittedParticles>this.maxParticles-1)return null;++this.emittedParticles;var t=this.recycleBin.pop();return t?(t.reset(),t):(t=new l(this.dof),this.particles.push(t),t)},filterParticle:function(t){return!t.recycled&&(!(t.lifeTime<0)||(this.pushRecycle(t),!1))},filterParticles:function(t){var e=this;this.particles.forEach(function(r){e.filterParticle(r)&&(r.submitToFields(e.fields),r.step(t))})},initParticleLoop:function(){this.particleIdx=0},nextParticle:function(){return this.particleIdx<this.particles.length-1?this.particles[$traceurRuntime.toProperty(this.particleIdx++)]:null}},{},s);var p=f}])});