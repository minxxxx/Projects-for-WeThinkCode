<!doctype html>
<html lang="en-us">

  <head>
    <meta name="viewport" content="width=device-width, height=device-height, minimal-ui, minimum-scale=1.0, initial-scale=1, user-scalable=no"/>
    <link rel="shortcut icon" href="../resources/img/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="../resources/lmv/style.min.css" type="text/css"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Viewer Test | WASM</title>
  </head>

  <body>

    <div id="container"></div>

    <script>

      var Module = Module || {}

      //'WEB' / 'WORKER' / 'NODE' / 'SHELL'
      Module['ENVIRONMENT'] = 'WEB'

      var wasmRoot = '../../Emscripten/dist/wasm/'

      Module.wasmBinaryFile = wasmRoot + 'ParticleSystem.wasm'

      Module.memoryInitializerPrefixURL = wasmRoot

      Module.TOTAL_MEMORY = 16777216

      var xhr = new XMLHttpRequest()
      xhr.open('GET', wasmRoot + 'ParticleSystem.wasm', true)
      xhr.responseType = 'arraybuffer'

      xhr.onload = function() {

        Module.wasmBinary = xhr.response

        var script = document.createElement('script')
        script.src = wasmRoot + 'ParticleSystem.js'
        document.body.appendChild(script)
      }

      xhr.send(null)

    </script>

    <script type="text/javascript" src="../dist/test-three.bundle.js"></script>

  </body>

</html>
